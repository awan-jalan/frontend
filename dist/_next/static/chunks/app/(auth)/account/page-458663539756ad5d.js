(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[965],{3240:function(e,t,r){Promise.resolve().then(r.bind(r,7205))},7205:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d},metadata:function(){return c}});var l=r(9268),s=r(6006),n=r(856),a=r.n(n),o=r(5040),i=r.n(o);let c={title:"Delete",description:"Page description"};function d(){let[e,t]=(0,s.useState)({email:"",password:""}),r=r=>{t({...e,[r.target.id]:r.target.value})},n=e=>{try{let{nameid:t}=i().decode(e,"Yahahaha-Hayukkkkkk-Mengerikannnn-Yang-Benerrttttttttt");return t}catch(e){return console.error("Failed to decode JWT token:",e),null}},o=(e,t)=>{fetch("https://agrotech-api.agilf.dev/api/auth/Login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(e=>{if(e.ok)return e.json();throw a().fire("Cancelled","Failed to fetch user ID","error"),Error("Failed to fetch user ID")}).then(e=>{console.log(e);let t=n(e.token);c(t)}).catch(e=>{a().fire("Cancelled","Failed to fetch user ID","error"),console.error(e)})},c=e=>{fetch("https://agrotech-api.agilf.dev/api/User/".concat(e),{method:"DELETE"}).then(e=>{if(e.ok)a().fire("Deleted!","Your account has been deleted.","success");else throw a().fire("Cancelled","User deletion failed","error"),Error("User deletion failed")}).catch(e=>{a().fire("Cancelled",e,"error"),console.error(e)})};return(0,l.jsx)("section",{className:"bg-gradient-to-b from-gray-100 to-white",children:(0,l.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6",children:(0,l.jsxs)("div",{className:"pt-32 pb-12 md:pt-40 md:pb-20",children:[(0,l.jsx)("div",{className:"max-w-3xl mx-auto text-center pb-12 md:pb-20",children:(0,l.jsx)("h1",{className:"h1",children:"If you wish to delete your account, we respect your decision.."})}),(0,l.jsx)("div",{className:"max-w-sm mx-auto",children:(0,l.jsxs)("form",{onSubmit:t=>{t.preventDefault();let{email:r,password:l}=e;console.log(r,l);let s=a().mixin({customClass:{confirmButton:"mx-10 bg-red-500 hover:bg-blue-500 text-white font-bold py-2 px-4 rounded",cancelButton:"mx-10 bg-blue-500  hover:bg-green-600 text-white font-bold py-2 px-4 rounded"},buttonsStyling:!1});s.fire({title:"Are you sure to delete your account?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(e=>{e.isConfirmed?o(r,l):e.dismiss===a().DismissReason.cancel&&a().fire("Cancelled","Your account is safe :)","error")})},children:[(0,l.jsx)("div",{className:"flex flex-wrap -mx-3 mb-4",children:(0,l.jsxs)("div",{className:"w-full px-3",children:[(0,l.jsxs)("label",{className:"block text-gray-800 text-sm font-medium mb-1",htmlFor:"email",children:["Email ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)("input",{id:"email",type:"email",className:"form-input w-full text-gray-800",placeholder:"Enter your email address",required:!0,onChange:r})]})}),(0,l.jsx)("div",{className:"flex flex-wrap -mx-3 mb-4",children:(0,l.jsxs)("div",{className:"w-full px-3",children:[(0,l.jsxs)("label",{className:"block text-gray-800 text-sm font-medium mb-1",htmlFor:"password",children:["Password ",(0,l.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,l.jsx)("input",{id:"password",type:"password",className:"form-input w-full text-gray-800",placeholder:"Enter your password",required:!0,onChange:r})]})}),(0,l.jsx)("div",{className:"flex flex-wrap -mx-3 mt-6",children:(0,l.jsx)("div",{className:"w-full px-3",children:(0,l.jsx)("button",{type:"submit",className:"btn text-white bg-blue-600 hover:bg-blue-700 w-full",children:"Delete My Account"})})}),(0,l.jsx)("div",{className:"text-sm text-gray-500 text-center mt-3",children:"To delete your account, kindly review and adhere to our account deletion policy, which includes the terms & conditions and our privacy policy."})]})})]})})})}}},function(e){e.O(0,[717,558,667,488,744],function(){return e(e.s=3240)}),_N_E=e.O()}]);